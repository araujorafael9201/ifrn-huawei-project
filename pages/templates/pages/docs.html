<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <p id="docpath" style="visibility: hidden;">{{docpath}}</p>
    <div id="adobe-dc-view" style="height: 360px; width: 500px;"></div>
<script src="https://documentcloud.adobe.com/view-sdk/main.js"></script>
<script type="text/javascript">
    const docpath = document.querySelector('#docpath').innerText

    // function readImage(file) {
    //     const reader = new FileReader();

    //     reader.readAsDataURL(file);
    
    // }

    let path = '/uploads' + docpath
    let blob = fetch((path)).then(r => r.blob())
    console.log(blob)

    document.addEventListener("adobe_dc_view_sdk.ready", function(){
    var adobeDCView = new AdobeDC.View({clientId: "bf828be9a8694587a0f539dbeb6304c3", divId: "adobe-dc-view"});
    adobeDCView.previewFile({
      content:{promise: blob},
      metaData:{fileName: "seila.png"}
    },
    {
      embedMode: "SIZED_CONTAINER"
    });
  });
</script>
</body>
</html>